package trancee/wasmSID/lib

alias @trancee/wasmSID/lib/cpu as @cpu

// Values

// Types and methods
pub struct C64 {
  pub baseaddress : UInt16
  pub mem : @cpu.Memory
  pub cpu : @cpu.CPU
  pub vic : VIC
}
impl C64 {
  get_flags(Self) -> @cpu.UInt8
  load(Self, Array[Int], ~offset : Int = .., ~length : Int = ..) -> Unit
  new(~baseaddress : Int = .., ~data : Array[Int] = .., ~offset : Int = .., ~length : Int = ..) -> Self
  pc(Self) -> Int
  push(Self, @cpu.UInt8) -> Unit
  push16(Self, @cpu.UInt16) -> Unit
  set_flags(Self, @cpu.UInt8) -> Unit
  step(Self) -> Int
}

pub struct NES {
  pub baseaddress : UInt16
  pub mem : @cpu.Memory
  pub cpu : @cpu.CPU
}
impl NES {
  get_flags(Self) -> @cpu.UInt8
  load(Self, Array[Int], ~offset : Int = .., ~length : Int = ..) -> Unit
  new(~baseaddress : Int = .., ~data : Array[Int] = .., ~offset : Int = .., ~length : Int = ..) -> Self
  pc(Self) -> Int
  push(Self, @cpu.UInt8) -> Unit
  push16(Self, @cpu.UInt16) -> Unit
  set_flags(Self, @cpu.UInt8) -> Unit
  step(Self) -> Int
}

pub type UInt16 Int
impl UInt16 {
  compare(Self, Self) -> Int
  debug_write(Self, Buffer) -> Unit
  op_equal(Self, Self) -> Bool
}

pub type UInt8 Int
impl UInt8 {
  compare(Self, Self) -> Int
  debug_write(Self, Buffer) -> Unit
  op_equal(Self, Self) -> Bool
  to_hex(Self) -> String
}

type VIC
impl VIC {
  new(~baseaddress : UInt16) -> Self
}

// Traits

// Extension Methods

